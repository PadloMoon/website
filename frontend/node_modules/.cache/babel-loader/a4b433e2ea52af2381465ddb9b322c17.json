{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serializeSignDoc = exports.makeSignDoc = exports.sortedJsonStringify = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\n\nconst encoding_1 = require(\"@cosmjs/encoding\");\n\nconst math_1 = require(\"@cosmjs/math\");\n\nfunction sortedObject(obj) {\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(sortedObject);\n  }\n\n  const sortedKeys = Object.keys(obj).sort();\n  const result = {}; // NOTE: Use forEach instead of reduce for performance with large objects eg Wasm code\n\n  sortedKeys.forEach(key => {\n    result[key] = sortedObject(obj[key]);\n  });\n  return result;\n}\n/** Returns a JSON string with objects sorted by key */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n\nfunction sortedJsonStringify(obj) {\n  return JSON.stringify(sortedObject(obj));\n}\n\nexports.sortedJsonStringify = sortedJsonStringify;\n\nfunction makeSignDoc(msgs, fee, chainId, memo, accountNumber, sequence) {\n  return {\n    chain_id: chainId,\n    account_number: math_1.Uint53.fromString(accountNumber.toString()).toString(),\n    sequence: math_1.Uint53.fromString(sequence.toString()).toString(),\n    fee: fee,\n    msgs: msgs,\n    memo: memo || \"\"\n  };\n}\n\nexports.makeSignDoc = makeSignDoc;\n\nfunction serializeSignDoc(signDoc) {\n  return encoding_1.toUtf8(sortedJsonStringify(signDoc));\n}\n\nexports.serializeSignDoc = serializeSignDoc;","map":{"version":3,"mappings":";;;;;;AAAA;;AACA;;AACA;;AA4BA,SAASA,YAAT,CAAsBC,GAAtB,EAA8B;AAC5B,MAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,KAAK,IAAvC,EAA6C;AAC3C,WAAOA,GAAP;AACD;;AACD,MAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AACtB,WAAOA,GAAG,CAACG,GAAJ,CAAQJ,YAAR,CAAP;AACD;;AACD,QAAMK,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYN,GAAZ,EAAiBO,IAAjB,EAAnB;AACA,QAAMC,MAAM,GAAwB,EAApC,CAR4B,CAS5B;;AACAJ,YAAU,CAACK,OAAX,CAAoBC,GAAD,IAAQ;AACzBF,UAAM,CAACE,GAAD,CAAN,GAAcX,YAAY,CAACC,GAAG,CAACU,GAAD,CAAJ,CAA1B;AACD,GAFD;AAGA,SAAOF,MAAP;AACD;AAED;AACA;;;AACA,SAAgBG,mBAAhB,CAAoCX,GAApC,EAA4C;AAC1C,SAAOY,IAAI,CAACC,SAAL,CAAed,YAAY,CAACC,GAAD,CAA3B,CAAP;AACD;;AAFDc;;AAIA,SAAgBC,WAAhB,CACEC,IADF,EAEEC,GAFF,EAGEC,OAHF,EAIEC,IAJF,EAKEC,aALF,EAMEC,QANF,EAM2B;AAEzB,SAAO;AACLC,YAAQ,EAAEJ,OADL;AAELK,kBAAc,EAAEC,cAAOC,UAAP,CAAkBL,aAAa,CAACM,QAAd,EAAlB,EAA4CA,QAA5C,EAFX;AAGLL,YAAQ,EAAEG,cAAOC,UAAP,CAAkBJ,QAAQ,CAACK,QAAT,EAAlB,EAAuCA,QAAvC,EAHL;AAILT,OAAG,EAAEA,GAJA;AAKLD,QAAI,EAAEA,IALD;AAMLG,QAAI,EAAEA,IAAI,IAAI;AANT,GAAP;AAQD;;AAhBDL;;AAkBA,SAAgBa,gBAAhB,CAAiCC,OAAjC,EAAoD;AAClD,SAAOC,kBAAOlB,mBAAmB,CAACiB,OAAD,CAA1B,CAAP;AACD;;AAFDd","names":["sortedObject","obj","Array","isArray","map","sortedKeys","Object","keys","sort","result","forEach","key","sortedJsonStringify","JSON","stringify","exports","makeSignDoc","msgs","fee","chainId","memo","accountNumber","sequence","chain_id","account_number","math_1","fromString","toString","serializeSignDoc","signDoc","encoding_1"],"sourceRoot":"","sources":["../src/signdoc.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}