{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StargateClient = exports.assertIsBroadcastTxSuccess = exports.isBroadcastTxSuccess = exports.isBroadcastTxFailure = exports.TimeoutError = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\n\nconst encoding_1 = require(\"@cosmjs/encoding\");\n\nconst math_1 = require(\"@cosmjs/math\");\n\nconst tendermint_rpc_1 = require(\"@cosmjs/tendermint-rpc\");\n\nconst utils_1 = require(\"@cosmjs/utils\");\n\nconst accounts_1 = require(\"./accounts\");\n\nconst queries_1 = require(\"./queries\");\n\nconst search_1 = require(\"./search\");\n\nclass TimeoutError extends Error {\n  constructor(message, txId) {\n    super(message);\n    this.txId = txId;\n  }\n\n}\n\nexports.TimeoutError = TimeoutError;\n\nfunction isBroadcastTxFailure(result) {\n  return !!result.code;\n}\n\nexports.isBroadcastTxFailure = isBroadcastTxFailure;\n\nfunction isBroadcastTxSuccess(result) {\n  return !isBroadcastTxFailure(result);\n}\n\nexports.isBroadcastTxSuccess = isBroadcastTxSuccess;\n/**\n * Ensures the given result is a success. Throws a detailed error message otherwise.\n */\n\nfunction assertIsBroadcastTxSuccess(result) {\n  if (isBroadcastTxFailure(result)) {\n    throw new Error(`Error when broadcasting tx ${result.transactionHash} at height ${result.height}. Code: ${result.code}; Raw log: ${result.rawLog}`);\n  }\n}\n\nexports.assertIsBroadcastTxSuccess = assertIsBroadcastTxSuccess;\n\nclass StargateClient {\n  constructor(tmClient) {\n    if (tmClient) {\n      this.tmClient = tmClient;\n      this.queryClient = queries_1.QueryClient.withExtensions(tmClient, queries_1.setupAuthExtension, queries_1.setupBankExtension, queries_1.setupStakingExtension);\n    }\n  }\n\n  static async connect(endpoint) {\n    const tmClient = await tendermint_rpc_1.Tendermint34Client.connect(endpoint);\n    return new StargateClient(tmClient);\n  }\n\n  getTmClient() {\n    return this.tmClient;\n  }\n\n  forceGetTmClient() {\n    if (!this.tmClient) {\n      throw new Error(\"Tendermint client not available. You cannot use online functionality in offline mode.\");\n    }\n\n    return this.tmClient;\n  }\n\n  getQueryClient() {\n    return this.queryClient;\n  }\n\n  forceGetQueryClient() {\n    if (!this.queryClient) {\n      throw new Error(\"Query client not available. You cannot use online functionality in offline mode.\");\n    }\n\n    return this.queryClient;\n  }\n\n  async getChainId() {\n    if (!this.chainId) {\n      const response = await this.forceGetTmClient().status();\n      const chainId = response.nodeInfo.network;\n      if (!chainId) throw new Error(\"Chain ID must not be empty\");\n      this.chainId = chainId;\n    }\n\n    return this.chainId;\n  }\n\n  async getHeight() {\n    const status = await this.forceGetTmClient().status();\n    return status.syncInfo.latestBlockHeight;\n  }\n\n  async getAccount(searchAddress) {\n    try {\n      const account = await this.forceGetQueryClient().auth.account(searchAddress);\n      return account ? accounts_1.accountFromAny(account) : null;\n    } catch (error) {\n      if (/rpc error: code = NotFound/i.test(error)) {\n        return null;\n      }\n\n      throw error;\n    }\n  }\n  /**\n   * @deprecated Verified queries are not supported with Cosmos SDK 0.44+.\n   * See \"Known limitations\" in README.md.\n   * Will be rmoved in CosmJS 0.27 (https://github.com/cosmos/cosmjs/pull/910).\n   */\n\n\n  async getAccountVerified(searchAddress) {\n    const account = await this.forceGetQueryClient().auth.verified.account(searchAddress);\n    return account ? accounts_1.accountFromAny(account) : null;\n  }\n\n  async getSequence(address) {\n    const account = await this.getAccount(address);\n\n    if (!account) {\n      throw new Error(\"Account does not exist on chain. Send some tokens there before trying to query sequence.\");\n    }\n\n    return {\n      accountNumber: account.accountNumber,\n      sequence: account.sequence\n    };\n  }\n\n  async getBlock(height) {\n    const response = await this.forceGetTmClient().block(height);\n    return {\n      id: encoding_1.toHex(response.blockId.hash).toUpperCase(),\n      header: {\n        version: {\n          block: new math_1.Uint53(response.block.header.version.block).toString(),\n          app: new math_1.Uint53(response.block.header.version.app).toString()\n        },\n        height: response.block.header.height,\n        chainId: response.block.header.chainId,\n        time: tendermint_rpc_1.toRfc3339WithNanoseconds(response.block.header.time)\n      },\n      txs: response.block.txs\n    };\n  }\n\n  async getBalance(address, searchDenom) {\n    return this.forceGetQueryClient().bank.balance(address, searchDenom);\n  }\n  /**\n   * Queries all balances for all denoms that belong to this address.\n   *\n   * Uses the grpc queries (which iterates over the store internally), and we cannot get\n   * proofs from such a method.\n   */\n\n\n  async getAllBalances(address) {\n    return this.forceGetQueryClient().bank.allBalances(address);\n  }\n\n  async getDelegation(delegatorAddress, validatorAddress) {\n    var _a;\n\n    let delegatedAmount;\n\n    try {\n      delegatedAmount = (_a = (await this.forceGetQueryClient().staking.delegation(delegatorAddress, validatorAddress)).delegationResponse) === null || _a === void 0 ? void 0 : _a.balance;\n    } catch (e) {\n      if (e.toString().includes(\"key not found\")) {// ignore, `delegatedAmount` remains undefined\n      } else {\n        throw e;\n      }\n    }\n\n    return delegatedAmount || null;\n  }\n\n  async getTx(id) {\n    var _a;\n\n    const results = await this.txsQuery(`tx.hash='${id}'`);\n    return (_a = results[0]) !== null && _a !== void 0 ? _a : null;\n  }\n\n  async searchTx(query) {\n    let filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const minHeight = filter.minHeight || 0;\n    const maxHeight = filter.maxHeight || Number.MAX_SAFE_INTEGER;\n    if (maxHeight < minHeight) return []; // optional optimization\n\n    function withFilters(originalQuery) {\n      return `${originalQuery} AND tx.height>=${minHeight} AND tx.height<=${maxHeight}`;\n    }\n\n    let txs;\n\n    if (search_1.isSearchByHeightQuery(query)) {\n      txs = query.height >= minHeight && query.height <= maxHeight ? await this.txsQuery(`tx.height=${query.height}`) : [];\n    } else if (search_1.isSearchBySentFromOrToQuery(query)) {\n      const sentQuery = withFilters(`message.module='bank' AND transfer.sender='${query.sentFromOrTo}'`);\n      const receivedQuery = withFilters(`message.module='bank' AND transfer.recipient='${query.sentFromOrTo}'`);\n      const [sent, received] = await Promise.all([sentQuery, receivedQuery].map(rawQuery => this.txsQuery(rawQuery)));\n      const sentHashes = sent.map(t => t.hash);\n      txs = [...sent, ...received.filter(t => !sentHashes.includes(t.hash))];\n    } else if (search_1.isSearchByTagsQuery(query)) {\n      const rawQuery = withFilters(query.tags.map(t => `${t.key}='${t.value}'`).join(\" AND \"));\n      txs = await this.txsQuery(rawQuery);\n    } else {\n      throw new Error(\"Unknown query type\");\n    }\n\n    const filtered = txs.filter(tx => tx.height >= minHeight && tx.height <= maxHeight);\n    return filtered;\n  }\n\n  disconnect() {\n    if (this.tmClient) this.tmClient.disconnect();\n  }\n  /**\n   * Broadcasts a signed transaction to the network and monitors its inclusion in a block.\n   *\n   * If broadcasting is rejected by the node for some reason (e.g. because of a CheckTx failure),\n   * an error is thrown.\n   *\n   * If the transaction is not included in a block before the provided timeout, this errors with a `TimeoutError`.\n   *\n   * If the transaction is included in a block, a `BroadcastTxResponse` is returned. The caller then\n   * usually needs to check for execution success or failure.\n   */\n\n\n  async broadcastTx(tx) {\n    let timeoutMs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60000;\n    let pollIntervalMs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3000;\n    let timedOut = false;\n    const txPollTimeout = setTimeout(() => {\n      timedOut = true;\n    }, timeoutMs);\n\n    const pollForTx = async txId => {\n      if (timedOut) {\n        throw new TimeoutError(`Transaction with ID ${txId} was submitted but was not yet found on the chain. You might want to check later.`, txId);\n      }\n\n      await utils_1.sleep(pollIntervalMs);\n      const result = await this.getTx(txId);\n      return result ? {\n        code: result.code,\n        height: result.height,\n        rawLog: result.rawLog,\n        transactionHash: txId,\n        gasUsed: result.gasUsed,\n        gasWanted: result.gasWanted\n      } : pollForTx(txId);\n    };\n\n    const broadcasted = await this.forceGetTmClient().broadcastTxSync({\n      tx\n    });\n\n    if (broadcasted.code) {\n      throw new Error(`Broadcasting transaction failed with code ${broadcasted.code} (codespace: ${broadcasted.codeSpace}). Log: ${broadcasted.log}`);\n    }\n\n    const transactionId = encoding_1.toHex(broadcasted.hash).toUpperCase();\n    return new Promise((resolve, reject) => pollForTx(transactionId).then(value => {\n      clearTimeout(txPollTimeout);\n      resolve(value);\n    }, error => {\n      clearTimeout(txPollTimeout);\n      reject(error);\n    }));\n  }\n\n  async txsQuery(query) {\n    const results = await this.forceGetTmClient().txSearchAll({\n      query: query\n    });\n    return results.txs.map(tx => {\n      return {\n        height: tx.height,\n        hash: encoding_1.toHex(tx.hash).toUpperCase(),\n        code: tx.result.code,\n        rawLog: tx.result.log || \"\",\n        tx: tx.tx,\n        gasUsed: tx.result.gasUsed,\n        gasWanted: tx.result.gasWanted\n      };\n    });\n  }\n\n}\n\nexports.StargateClient = StargateClient;","map":{"version":3,"mappings":"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","names":["TimeoutError","Error","constructor","message","txId","exports","isBroadcastTxFailure","result","code","isBroadcastTxSuccess","assertIsBroadcastTxSuccess","transactionHash","height","rawLog","StargateClient","tmClient","queryClient","queries_1","withExtensions","connect","endpoint","tendermint_rpc_1","getTmClient","forceGetTmClient","getQueryClient","forceGetQueryClient","getChainId","chainId","response","status","nodeInfo","network","getHeight","syncInfo","latestBlockHeight","getAccount","searchAddress","account","auth","accounts_1","error","test","getAccountVerified","verified","getSequence","address","accountNumber","sequence","getBlock","block","id","encoding_1","blockId","hash","toUpperCase","header","version","math_1","toString","app","time","txs","getBalance","searchDenom","bank","balance","getAllBalances","allBalances","getDelegation","delegatorAddress","validatorAddress","delegatedAmount","staking","delegation","delegationResponse","_a","e","includes","getTx","results","txsQuery","searchTx","query","filter","minHeight","maxHeight","Number","MAX_SAFE_INTEGER","withFilters","originalQuery","search_1","sentQuery","sentFromOrTo","receivedQuery","sent","received","Promise","all","map","rawQuery","sentHashes","t","tags","key","value","join","filtered","tx","disconnect","broadcastTx","timeoutMs","pollIntervalMs","timedOut","txPollTimeout","setTimeout","pollForTx","utils_1","gasUsed","gasWanted","broadcasted","broadcastTxSync","codeSpace","log","transactionId","resolve","reject","then","clearTimeout","txSearchAll"],"sourceRoot":"","sources":["../src/stargateclient.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}